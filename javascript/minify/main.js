window.onload=function(){var n=document.getElementsByClassName("header")[0].getElementsByTagName("a"),l=document.getElementsByClassName("in-progress"),a=document.getElementsByClassName("task-completed"),s=document.getElementsByClassName("new-note-detail")[0],t=document.getElementsByClassName("add-new-note")[0],e=document.getElementsByClassName("add-task")[0],o=t.getElementsByTagName("input")[0],i=document.getElementsByClassName("cancel")[0],c=document.getElementsByClassName("task-list-completed")[0],m=document.getElementsByClassName("task-list")[0],r=document.getElementsByClassName("task"),d=document.getElementsByClassName("total-task")[0],g=document.getElementsByClassName("time-input")[0];if(null===localStorage.getItem("item"))var u=[];else{u=JSON.parse(localStorage.getItem("item"));console.log(u);var y=JSON.parse(localStorage.getItem("item"));console.log(y),y.forEach(function(e){var n=document.createElement("div"),t=document.getElementById("entry-template").innerHTML,l=Handlebars.compile(t)({content:e.content,deadline:e.deadline});n.className="task",n.innerHTML=l,m.insertBefore(n,m.childNodes[0]);var a=document.getElementsByClassName("x-icon")[0],s=document.getElementsByClassName("task-text")[0];a.onclick=function(){var e=JSON.parse(localStorage.getItem("item"));console.log(e);var t=e.find(function(e){return e.content==s.innerHTML});console.log(t),t.isDelete=!0,a.parentNode.parentNode.parentNode.removeChild(n),u=e.filter(function(e){return!0!==e.isDelete}),localStorage.setItem("item",JSON.stringify(u)),d.innerHTML=r.length+" task left"}})}function f(e){for(var t=0;t<n.length;t++)n[t].className="inactive";document.getElementById(e).className="active"}function N(e){if("inProgress"==e){s.style.display="none";for(var t=0;t<a.length;t++)a[t].style.display="none";for(t=0;t<l.length;t++)l[t].style.display="flex"}else if("completed"==e){s.style.display="none";for(t=0;t<a.length;t++)a[t].style.display="flex";for(t=0;t<l.length;t++)l[t].style.display="none"}else{s.style.display="none";for(t=0;t<a.length;t++)a[t].style.display="flex";for(t=0;t<l.length;t++)l[t].style.display="flex"}}localStorage.clear(),n[0].className="active",n[1].className="inactive",n[2].className="inactive";for(var p=0;p<n.length;p++)n[p].onclick=function(){var e;f(this.id),e=this.id,t.style.display="myTask"==e?"block":"none",N(this.id)};o.onfocus=function(){s.style.display="block"},i.onclick=function(){s.style.display="none"},e.onclick=function(){m.innerHTML="",c.innerHTML="";var e,t=document.getElementById("entry-template").innerHTML,n=(Handlebars.compile(t),{content:o.value,deadline:g.value});inputObject={content:n.content,deadline:n.deadline,isDelete:!1},u.push(inputObject),stringJson=JSON.stringify(u),localStorage.setItem("item",stringJson),e=JSON.parse(localStorage.getItem("item")),console.log(e),e.forEach(function(e){var n=document.createElement("div"),t=document.getElementById("entry-template").innerHTML,l=Handlebars.compile(t),a={content:e.content,deadline:e.deadline},s=l(a);n.className="task",n.innerHTML=s,m.insertBefore(n,m.childNodes[0]);var o=document.getElementsByClassName("x-icon")[0],i=document.getElementsByClassName("task-text")[0];o.onclick=function(){var e=JSON.parse(localStorage.getItem("item"));console.log(e);var t=e.find(function(e){return e.content==i.innerHTML});console.log(t),t.isDelete=!0,o.parentNode.parentNode.parentNode.removeChild(n),u=e.filter(function(e){return!0!==e.isDelete}),localStorage.setItem("item",JSON.stringify(u)),d.innerHTML=r.length+" task left"}}),g.value=null,o.value=null,d.innerHTML=r.length+" task left"},d.innerHTML=r.length+" task left"};