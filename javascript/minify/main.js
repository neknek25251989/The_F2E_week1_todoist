window.onload=function(){if(null===localStorage.getItem("item"))var s=[];else{s=JSON.parse(localStorage.getItem("item"));console.log(s)}localStorage.clear();var n=document.getElementsByClassName("header")[0].getElementsByTagName("a"),l=document.getElementsByClassName("in-progress"),a=document.getElementsByClassName("task-completed"),o=document.getElementsByClassName("new-note-detail")[0];function t(e){for(var t=0;t<n.length;t++)n[t].className="inactive";document.getElementById(e).className="active"}function i(e){if("inProgress"==e){o.style.display="none";for(var t=0;t<a.length;t++)a[t].style.display="none";for(t=0;t<l.length;t++)l[t].style.display="flex"}else if("completed"==e){o.style.display="none";for(t=0;t<a.length;t++)a[t].style.display="flex";for(t=0;t<l.length;t++)l[t].style.display="none"}else{o.style.display="none";for(t=0;t<a.length;t++)a[t].style.display="flex";for(t=0;t<l.length;t++)l[t].style.display="flex"}}n[0].className="active",n[1].className="inactive",n[2].className="inactive";for(var e=0;e<n.length;e++)n[e].onclick=function(){var e;t(this.id),e=this.id,c.style.display="myTask"==e?"block":"none",i(this.id)};var c=document.getElementsByClassName("add-new-note")[0],m=document.getElementsByClassName("add-task")[0],r=c.getElementsByTagName("input")[0],d=document.getElementsByClassName("cancel")[0];r.onfocus=function(){o.style.display="block"},d.onclick=function(){o.style.display="none"};var g=document.getElementsByClassName("task-list-completed")[0],y=document.getElementsByClassName("task-list")[0],u=document.getElementsByClassName("task"),f=document.getElementsByClassName("total-task")[0],N=document.getElementsByClassName("time-input")[0];m.onclick=function(){y.innerHTML="",g.innerHTML="";var e,t=document.getElementById("entry-template").innerHTML,n=(Handlebars.compile(t),{content:r.value,deadline:N.value});inputObject={content:n.content,deadline:n.deadline,isCheck:!1,isDelete:!1},s.push(inputObject),stringJson=JSON.stringify(s),localStorage.setItem("item",stringJson),e=JSON.parse(localStorage.getItem("item")),console.log(e),e.forEach(function(e){var t=document.createElement("div"),n=document.getElementById("entry-template").innerHTML,l=Handlebars.compile(n),a={content:e.content,deadline:e.deadline},s=l(a);t.className="task",t.innerHTML=s,1==e.isCheck?g.appendChild(t):y.insertBefore(t,y.childNodes[0])}),N.value=null,r.value=null;var l=document.getElementsByClassName("task-text")[0],a=document.getElementsByClassName("x-icon")[0];a.onclick=function(){s.find(function(e){return e.content==l.innerHTML}).isDelete=!0,a.parentNode.parentNode.parentNode.removeChild(newTask),s=s.filter(function(e){return!0!==e.isDelete}),localStorage.setItem("item",JSON.stringify(s)),f.innerHTML=u.length+" task left"},f.innerHTML=u.length+" task left"},document.getElementsByClassName("check-box-icon").onclick=function(e){console.log(1);var t=document.getElementsByClassName("check-box-icon");labelArray=Array.from(t);var n=labelArray.indexOf(e.target);console.log(n);var l=JSON.parse(localStorage.getItem("item"));s[n].isCheck=!s[n].isCheck,l[n].isCheck=!l[n].isCheck,stringCheck=JSON.stringify(l),localStorage.setItem("item",stringCheck),makeNewTask(),console.log(localStorage)},f.innerHTML=u.length+" task left"};